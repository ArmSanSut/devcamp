<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link 
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>Homework 6.2</title>
</head>
<body class="p-3">
    <!-- <button id="btn" class="btn btn-primary">Click Here for Information</button> -->
    <div>
        <ul id="dataResult" class="list-group py-3"></ul>
    </div>
    
    <script>
        
        let id = 1;
        function displayData(){
            const node = document.getElementById("p");
            node.innerHTML = 
            "<li class='list-group-item d-flex justify-content-between'>an item #" + id + "<button onclick='alertText(" + id + ")'>Show</button></li>";
            id++;
            document.getElementById("result").appendChild(node);
        }
        
        let aUser = [];
        axios.get("https://swapi.dev/api/people/").then(function(response){
            let dataUser = response.data.results;
            for(let i=0; i<dataUser.length; i++){
                aUser.push(dataUser[i]);

                let member = JSON.stringify(aUser[i]);
                //create node
                const node = document.createElement("p");
                node.innerHTML =
                "<li class='list-group-item d-flex justify-content-between'>User # " + [i+1] + "\t" + ":"
                 + "\t" + dataUser[i].name + " <button class='btn btn-primary' onclick='alertText(" + member +  ")'>View</button></li>"; 
                 
                
                //insert element by using appendchild
                document.getElementById("dataResult").appendChild(node);
            }
        });
        function alertText(obj) {
        alert(
          "Name : " +
            obj.name +
            "\n" +
            "Gender : " +
            obj.gender +
            "\n" +
            "Height : " +
            obj.height
        );
      }

        //document.getElementById("btn").addEventListener("click", displayData);
    </script>


    <script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>
</body>
</html>